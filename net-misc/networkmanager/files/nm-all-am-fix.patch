From 671ea4223a6471d57a8972d72a5f06081fba66ba Mon Sep 17 00:00:00 2001
From: Thomas Haller <thaller@redhat.com>
Date: Tue, 28 Mar 2017 22:37:19 +0200
Subject: [PATCH 1/1] build: declare build dependency requiring
 "nm-core-enum-types.h"

---
 Makefile.am | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/Makefile.am b/Makefile.am
index 75fbb33..d3ceb68 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -1297,6 +1297,8 @@ src_libNetworkManagerBase_la_LIBADD = \
 	$(LIBUDEV_LIBS) \
 	$(NULL)
 
+$(src_libNetworkManagerBase_la_OBJECTS): $(libnm_core_lib_h_pub_mkenums)
+
 ###############################################################################
 
 src_libNetworkManager_la_CPPFLAGS = $(src_cppflags)
@@ -1484,6 +1486,8 @@ src_libNetworkManager_la_LIBADD = \
 	$(LIBPSL_LIBS) \
 	$(LIBCURL_LIBS)
 
+$(src_libNetworkManager_la_OBJECTS): $(libnm_core_lib_h_pub_mkenums)
+
 ###############################################################################
 
 check_ltlibraries += src/libNetworkManagerTest.la
@@ -1515,6 +1519,8 @@ src_libNetworkManagerTest_la_LIBADD = \
 	$(LIBUDEV_LIBS) \
 	$(LIBNL_LIBS)
 
+$(src_libNetworkManagerTest_la_OBJECTS): $(libnm_core_lib_h_pub_mkenums)
+
 ###############################################################################
 
 src/NetworkManager.ver: src/libNetworkManager.la $(core_plugins)
@@ -1537,6 +1543,8 @@ src_NetworkManager_LDFLAGS = \
 	-rdynamic \
 	-Wl,--version-script="src/NetworkManager.ver"
 
+$(src_NetworkManager_OBJECTS): $(libnm_core_lib_h_pub_mkenums)
+
 ###############################################################################
 
 src_nm_iface_helper_CPPFLAGS = $(src_cppflags)
@@ -1556,6 +1564,8 @@ src_nm_iface_helper_LDADD = \
 src_nm_iface_helper_LDFLAGS = \
 	-Wl,--version-script="$(srcdir)/linker-script-binary.ver"
 
+$(src_nm_iface_helper_OBJECTS): $(libnm_core_lib_h_pub_mkenums)
+
 ###############################################################################
 
 EXTRA_DIST += \
-- 
2.9.3

